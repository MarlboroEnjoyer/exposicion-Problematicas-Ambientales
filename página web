<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mapa de Contaminación - San Antonio Oeste</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    #map {
      height: 600px;
      width: 100%;
    }
    .popup-img {
      width: 100%;
      border-radius: 8px;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <h1>Mapa interactivo de contaminación en San Antonio Oeste</h1>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    //  PONER MI API ACA
    const API_KEY = "TU_API_KEY";

    // mapa centrado en San Antonio Oeste
    var map = L.map('map').setView([-40.731, -64.948], 14);

    // OpenStreetMap
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Street View
    var zonas = [
      {
        nombre: "Zona 1 - Playa Los Tamariscos",
        coords: [-40.7267, -64.9401]
      },
      {
        nombre: "Zona 2 - Área costera sur",
        coords: [-40.7362, -64.9548]
      },
      {
        nombre: "Zona 3 - Barrio Industrial",
        coords: [-40.7295, -64.9492]
      },
      {
        nombre: "Zona 4 - Basural municipal",
        coords: [-40.7408, -64.9603]
      }
    ];
    zonas.forEach(function(zona) {
      var streetViewLink = `https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=${zona.coords[0]},${zona.coords[1]}`;
      var streetViewImg = `https://maps.googleapis.com/maps/api/streetview?size=300x150&location=${zona.coords[0]},${zona.coords[1]}&key=${API_KEY}`;

      var marker = L.marker(zona.coords).addTo(map);
      marker.bindPopup(`
        <b>${zona.nombre}</b><br>
        <a href="${streetViewLink}" target="_blank">
          <img src="${streetViewImg}" alt="Street View" class="popup-img">
        </a><br>
        <a href="${streetViewLink}" target="_blank">Ver en Street View</a>
      `);
    });
  </script>
</body>
</html>
